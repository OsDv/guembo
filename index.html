<!doctype html>
<html lang="EN-us">
<head>
    <meta charset="utf-8">
    <title>GUEMBO</title>
    <meta name="viewport" content="width=device-width">
    <meta content="GUEMBO" property="og:title">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000;
        }
        canvas.emscripten {
            border: 0 none;
            background-color: #000;
        }
        #fullscreen-checkbox {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 1000;
            color: white;
        }
    </style>
</head>
<body>
    <label id="fullscreen-checkbox">
        <input type="checkbox" id="fullscreen-toggle"> Fullscreen
    </label>
    <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" tabindex="-1"></canvas>
    <script>
        var Module = {
            print: function() {
                var e = document.getElementById("output");
                return e && (e.value = ""),
                function(n) {
                    arguments.length > 1 && (n = Array.prototype.slice.call(arguments).join(" ")),
                    console.log(n),
                    e && (e.value += n + "\n", e.scrollTop = e.scrollHeight);
                }
            }(),
            canvas: document.getElementById("canvas")
        };

        // Fullscreen toggle functionality
        document.getElementById('fullscreen-toggle').addEventListener('change', function() {
            if (this.checked) {
                enterFullscreen();
            } else {
                exitFullscreen();
            }
        });

        function enterFullscreen() {
            var canvas = document.getElementById('canvas');
            if (canvas.requestFullscreen) {
                canvas.requestFullscreen();
            } else if (canvas.mozRequestFullScreen) { // Firefox
                canvas.mozRequestFullScreen();
            } else if (canvas.webkitRequestFullscreen) { // Chrome, Safari, and Opera
                canvas.webkitRequestFullscreen();
            } else if (canvas.msRequestFullscreen) { // IE/Edge
                canvas.msRequestFullscreen();
            }
        }

        function exitFullscreen() {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.mozCancelFullScreen) { // Firefox
                document.mozCancelFullScreen();
            } else if (document.webkitExitFullscreen) { // Chrome, Safari, and Opera
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) { // IE/Edge
                document.msExitFullscreen();
            }
        }

        // Handle fullscreen change event
        document.addEventListener('fullscreenchange', function() {
            var checkbox = document.getElementById('fullscreen-toggle');
            if (!document.fullscreenElement) {
                checkbox.checked = false;
            }
        });

        document.addEventListener('mozfullscreenchange', function() {
            var checkbox = document.getElementById('fullscreen-toggle');
            if (!document.mozFullScreenElement) {
                checkbox.checked = false;
            }
        });

        document.addEventListener('webkitfullscreenchange', function() {
            var checkbox = document.getElementById('fullscreen-toggle');
            if (!document.webkitFullscreenElement) {
                checkbox.checked = false;
            }
        });

        document.addEventListener('msfullscreenchange', function() {
            var checkbox = document.getElementById('fullscreen-toggle');
            if (!document.msFullscreenElement) {
                checkbox.checked = false;
            }
        });
    </script>
    <script src="game.js" async></script>
</body>
</html>
